@model ApartmentBookingCompositeViewModel
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <title>My Apartment Bookings</title>
</head>
<body>
    <div class="apartment-bookings-container">
        <div class="bookings-header">
            <h2>My Apartment Bookings</h2>
        </div>
        
        @if (Model.BookingViewModel.Count == 0 )
        {
            <div class="no-bookings">
                <p>You have no current apartment bookings.</p>
            </div>
        }
        else{

            @foreach(var booking in Model.BookingViewModel)
            {
                 <div class="apartment-booking-card">
                    <img class="apartment-image"
                         src="@Url.Content("~/" + booking.ApartmentViewModel.ImageUrl)"
                         alt="@booking.ApartmentViewModel.Description"
                         loading="lazy" />
                    <div class="booking-details">
                        <div class="booking-details-header">
                            <h3>@booking.ApartmentViewModel.Description</h3>
                        </div>
                        <div>
                             @foreach (var guest in booking.GuestProfiles)
                            {
                                <div class="col-6">
                                    <p><strong>Guest:</strong> @guest.FirstName</p> 
                                </div>
                            }
                            <p>Address: @booking.ApartmentViewModel.Adress</p>
                            <p><strong>Booking Reference:</strong> APT-2025-0315</p>
                        </div>
                        <div class="booking-actions">
                            <div class="booking-dates">
                                <p>@booking.CheckInDate</p>
                                <p>@booking.CheckOutDate</p>
                            </div>
                            <button class="cancel-booking-btn">Cancel Booking</button>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
</body>
</html>