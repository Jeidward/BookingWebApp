@model GuestProfileViewModel 

@{
    int currentGuestIndex = (int)ViewData["currentGuestIndex"]!;
    int totalGuests       = (int)ViewData["numberOfGuests"]!;
}

<div class="container">
    <h2>Enter guest details (@currentGuestIndex of @totalGuests)</h2>

    <form asp-controller="Booking"
          asp-action="AddGuestProfile"
          method="post">

        <!-- keep the wizard index exactly as you had it -->
        <input type="hidden" name="currentGuestIndex" value="@currentGuestIndex" />

        <div class="row mb-3">
            <div class="col">
                <label asp-for="FirstName" class="form-label"></label>
                <input asp-for="FirstName" class="form-control" required />
            </div>
            <div class="col">
                <label asp-for="LastName" class="form-label"></label>
                <input asp-for="LastName" class="form-control" required />
            </div>
        </div>

        <div class="col mb-3">
            <label asp-for="Age" class="form-label"></label>
            <input asp-for="Age" class="form-control" required />
        </div>

        <div class="mb-3">
            <label asp-for="Email" class="form-label"></label>
            <input asp-for="Email" class="form-control" required />
        </div>

        <div class="mb-3">
            <label asp-for="PhoneNumber" class="form-label"></label>
            <input asp-for="PhoneNumber" class="form-control" required />
        </div>

        <div class="mb-3">
            <label asp-for="Country" class="form-label"></label>
            <select asp-for="Country" class="form-control" id="countrySelect">
                <!-- Country options will be populated by your JS -->
            </select>
        </div>

        <div class="mb-3">
            <label asp-for="Adress" class="form-label"></label>
            <input asp-for="Adress" class="form-control" required />
        </div>

        <button type="submit"
                class="btn btn-primary w-100">
            @(currentGuestIndex == totalGuests ? "Proceed to Payment" : "Next")
        </button>
    </form>
</div>

<script type="text/javascript" src="~/js/site.js"></script>
